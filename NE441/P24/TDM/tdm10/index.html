


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.12">
    
    
      
        <title>TDM10 - ESISAR -  NE441</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.4dd2dd8d.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#tdm10" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="ESISAR -  NE441" class="md-header-nav__button md-logo" aria-label="ESISAR -  NE441">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            ESISAR -  NE441
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              TDM10
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="ESISAR -  NE441" class="md-nav__button md-logo" aria-label="ESISAR -  NE441">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    ESISAR -  NE441
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../intro/index.html" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../exemples/index.html" title="Exemples du cours" class="md-nav__link">
      Exemples du cours
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../aidememoire/index.html" title="Aide mémoire Java" class="md-nav__link">
      Aide mémoire Java
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../outils/index.html" title="Aide Eclipse" class="md-nav__link">
      Aide Eclipse
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../rappel_reseau/index.html" title="Rappels réseau" class="md-nav__link">
      Rappels réseau
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../tdm01/index.html" title="TDM01" class="md-nav__link">
      TDM01
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../tdm02/index.html" title="TDM02" class="md-nav__link">
      TDM02
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../tdm03/index.html" title="TDM03" class="md-nav__link">
      TDM03
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../tdm04/index.html" title="TDM04" class="md-nav__link">
      TDM04
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../tdm05/index.html" title="TDM05" class="md-nav__link">
      TDM05
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../tdm06/index.html" title="TDM06" class="md-nav__link">
      TDM06
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../tdm08/index.html" title="TDM08" class="md-nav__link">
      TDM08
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../tdm09/index.html" title="TDM09" class="md-nav__link">
      TDM09
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        TDM10
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./index.html" title="TDM10" class="md-nav__link md-nav__link--active">
      TDM10
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#objectifs-du-tdm" class="md-nav__link">
    Objectifs du TDM
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercice-1-revision-http-avec-netcat" class="md-nav__link">
    Exercice 1 : Révision HTTP avec netcat
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercice-2-decouverte-du-javascript" class="md-nav__link">
    Exercice 2 : Découverte du JavaScript
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercice-3-suite-javascript" class="md-nav__link">
    Exercice 3 : Suite JavaScript
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercice-4-realisation-dun-client-http-avec-extraction-de-flux-video" class="md-nav__link">
    Exercice 4 :  Réalisation d'un client HTTP avec extraction de flux vidéo
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercice-5-realisation-dun-serveur-http-avec-flux-video" class="md-nav__link">
    Exercice 5 :  Réalisation d'un serveur HTTP avec flux vidéo
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercice-6-realisation-dune-balle-rebondissante-multi-ecrans" class="md-nav__link">
    Exercice 6 :  Réalisation d'une balle rebondissante multi écrans
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercice-7-realisation-dun-serveur-http-de-fichiers" class="md-nav__link">
    Exercice 7 :  Réalisation d'un serveur HTTP de fichiers
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#objectifs-du-tdm" class="md-nav__link">
    Objectifs du TDM
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercice-1-revision-http-avec-netcat" class="md-nav__link">
    Exercice 1 : Révision HTTP avec netcat
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercice-2-decouverte-du-javascript" class="md-nav__link">
    Exercice 2 : Découverte du JavaScript
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercice-3-suite-javascript" class="md-nav__link">
    Exercice 3 : Suite JavaScript
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercice-4-realisation-dun-client-http-avec-extraction-de-flux-video" class="md-nav__link">
    Exercice 4 :  Réalisation d'un client HTTP avec extraction de flux vidéo
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercice-5-realisation-dun-serveur-http-avec-flux-video" class="md-nav__link">
    Exercice 5 :  Réalisation d'un serveur HTTP avec flux vidéo
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercice-6-realisation-dune-balle-rebondissante-multi-ecrans" class="md-nav__link">
    Exercice 6 :  Réalisation d'une balle rebondissante multi écrans
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercice-7-realisation-dun-serveur-http-de-fichiers" class="md-nav__link">
    Exercice 7 :  Réalisation d'un serveur HTTP de fichiers
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  
                
                
                <h1 id="tdm10">TDM10<a class="headerlink" href="#tdm10" title="Permanent link">&para;</a></h1>
<h2 id="objectifs-du-tdm">Objectifs du TDM<a class="headerlink" href="#objectifs-du-tdm" title="Permanent link">&para;</a></h2>
<p>Ce TDM va permettre la découverte (ou révision) du protocole HTTP.</p>
<h2 id="exercice-1-revision-http-avec-netcat">Exercice 1 : Révision HTTP avec netcat<a class="headerlink" href="#exercice-1-revision-http-avec-netcat" title="Permanent link">&para;</a></h2>
<p>Le protocole HTTP fonctionne au dessus du protocole TCP, il permet de manipuler des ressources distantes. Il est principalement utilisé pour le web. Le client envoie des requêtes avec le format suivant : </p>
<div class="highlight"><pre><span></span><code>Ligne de commande <span class="o">(</span>Commande, URL, Version de protocole<span class="o">)</span>
En-tête de requêtes
<span class="o">[</span>Ligne vide<span class="o">]</span>
Corps de requête
</code></pre></div>

<p>La ligne de commande indique ce que le client attend. Par exemple, pour obtenir la page d'accueil, on utilisera la commande :</p>
<div class="highlight"><pre><span></span><code>GET /index.html HTTP/1.1
Host : <span class="m">192</span>.168.130.214
Connection: close
<span class="o">[</span>Ligne vide<span class="o">]</span>
</code></pre></div>

<p>L'entête de requête contient une succession de couples ( variable : valeur) , par exemple Host : 192.168.130.214. Elle permet au client de donner des informations à son propos ou de préciser la requête.</p>
<p>La ligne vide est très importante elle distingue le header HTTP du reste du message.
Le corps de la requête peut contenir des données additionnelles (dans le cas de messages POST par exemple) </p>
<p>Le serveur répond avec un format similaire :</p>
<div class="highlight"><pre><span></span><code>Ligne de statut <span class="o">(</span>Version, Code réponse, Texte réponse<span class="o">)</span>
En-tête de réponse
<span class="o">[</span>Ligne vide<span class="o">]</span>
Corps de réponse
</code></pre></div>

<p>La ligne de status indique au client si sa requête a réussi. Parmi les réponses possibles: </p>
<ul>
<li>HTTP/1.0 200 OK indique le succès de l'opération </li>
<li>HTTP/1.0 404 Not Found, indique que la page demandé n'existe pas.</li>
<li>HTTP/1.0 418 I'm a teapot, indique que le serveur n'est pas un serveur HTTP mais une théière (RFC 2324).</li>
</ul>
<p>L'entête permet au serveur de préciser la réponse par exemple en indiquant la taille et le type de la ressource demandée.
La ligne vide sépare l'entête de la ressource demandée dans le corps du message.</p>
<p>Naviguez sur le serveur de la salle avec un navigateur classique. L'URL est 
<a href="http://192.168.130.214/index.html">http://192.168.130.214/index.html</a></p>
<p>Faites ensuite la même navigation avec l'utilitaire netcat, en tapant directement à la main les commandes HTTP (vous utiliserez le protocole HTTP/1.1).</p>
<p>Prenez le temps de bien observer le contenu des échanges, et de comprendre comment fonctionne votre navigateur Web : combien de requêtes HTTP doit il faire pour afficher une page, ...? </p>
<h2 id="exercice-2-decouverte-du-javascript">Exercice 2 : Découverte du JavaScript<a class="headerlink" href="#exercice-2-decouverte-du-javascript" title="Permanent link">&para;</a></h2>
<p>Naviguez sur le serveur de la salle avec un navigateur classique, pour charger la page 
<a href="http://192.168.130.214/on_load.html">http://192.168.130.214/on_load.html</a></p>
<p>Afficher le code source de page (faire clic droit dans le navigateur, view page source) </p>
<p>Afficher le DOM après l'éxécution du Javascript (faire clic droit dans le navigateur, inspect)</p>
<p>Coment se passe le chargement d'une page WEB ? </p>
<h2 id="exercice-3-suite-javascript">Exercice 3 : Suite JavaScript<a class="headerlink" href="#exercice-3-suite-javascript" title="Permanent link">&para;</a></h2>
<p>Naviguez sur le serveur de la salle avec un navigateur classique, pour charger la page 
<a href="http://192.168.130.214/button.html">http://192.168.130.214/button.html</a></p>
<p>Afficher le code source de page (faire clic droit dans le navigateur, view page source) </p>
<p>Afficher le DOM après l'éxécution du Javascript (faire clic droit dans le navigateur, inspect)</p>
<p>Cliquer ensuite sur le bouton "Click me" de la page WEB </p>
<p>Afficher le code source de page (faire clic droit dans le navigateur, view page source) </p>
<p>Afficher le DOM après l'éxécution du Javascript (faire clic droit dans le navigateur, inspect)</p>
<p>Faites maintenant une recherche internet pour en savoir sur les </p>
<ul>
<li>SPA : Single Page Application </li>
<li>MPA : Mulptiple Page Application </li>
</ul>
<h2 id="exercice-4-realisation-dun-client-http-avec-extraction-de-flux-video">Exercice 4 :  Réalisation d'un client HTTP avec extraction de flux vidéo<a class="headerlink" href="#exercice-4-realisation-dun-client-http-avec-extraction-de-flux-video" title="Permanent link">&para;</a></h2>
<p>Télécharger le fichier http-image.jar</p>
<p><a class="md-button md-button--primary" href="http-image.jar">http-image.jar <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"/></svg></span></a></p>
<p>Placez vous dans le repertoire où vous avez téléchargé ce fichier, et lancez ce serveur HTTP avec la commande </p>
<div class="highlight"><pre><span></span><code>java -jar  http-image.jar
</code></pre></div>

<p>Ensuite, lancez un navigateur WEB sur l'url <a href="http://127.0.0.1:8000">http://127.0.0.1:8000</a> </p>
<p>Observez la page qui s'affiche. Cette technique est notamment utilisée par les WEBCAM. </p>
<p>Faites du reverse engineering avec wireshark pour voir le flux qui est envoyé.</p>
<p>Développez maintenant un client Java qui interroge ce client HTTP, et qui est capable d'extraire les images envoyées et de les sauvegarder dans des fichiers (par image01.bmp, image02.bmp, ...)  </p>
<h2 id="exercice-5-realisation-dun-serveur-http-avec-flux-video">Exercice 5 :  Réalisation d'un serveur HTTP avec flux vidéo<a class="headerlink" href="#exercice-5-realisation-dun-serveur-http-avec-flux-video" title="Permanent link">&para;</a></h2>
<p>Développez ensuite votre propre serveur HTTP qui aura un rendu similaire à celui fourni.</p>
<p>Pour créer une image bitmap, vous pouvez utiliser les deux classes Java BufferedImage et ImageIO (ces deux classes sont comprises dans le langage Java de base et permettent la création d'image au format BMP ou autre).   </p>
<h2 id="exercice-6-realisation-dune-balle-rebondissante-multi-ecrans">Exercice 6 :  Réalisation d'une balle rebondissante multi écrans<a class="headerlink" href="#exercice-6-realisation-dune-balle-rebondissante-multi-ecrans" title="Permanent link">&para;</a></h2>
<p>Développez maintenant votre propre serveur HTTP, qui fourni un flux vidéo avec une balle redondissante à l'intérieur. </p>
<p>Si deux navigateurs sont connectés à votre serveur, alors la balle doit rebondir entre les deux navigateurs. </p>
<h2 id="exercice-7-realisation-dun-serveur-http-de-fichiers">Exercice 7 :  Réalisation d'un serveur HTTP de fichiers<a class="headerlink" href="#exercice-7-realisation-dun-serveur-http-de-fichiers" title="Permanent link">&para;</a></h2>
<p>Vous allez maintenant réaliser un serveur HTTP, qui affiche une page d'accueil et une autre page permettant de télécharger des fichiers.</p>
<p>Réaliser un serveur TCP qui écoute les connexions entrantes, et qui vérifie que la requête commence par le mot GET . </p>
<p>Si la page demandée est /index.html, alors votre serveur renvoie une page fixe (vous afficherez par exemple simplement une page HTML avec le message « Bonjour »).</p>
<p>Si la page demandée est /fichiers.html, alors votre serveur renvoie une page avec la liste des fichiers disponibles au téléchargement, et il est possible de cliquer sur un lien pour lancer le téléchargement.</p>
<p>Tester votre serveur avec un navigateur web en demandant la page "<a href="http://localhost:port/index.html">http://localhost:port/index.html</a>" où port est le port d'écoute de votre serveur.</p>
<p>Vérifier que le téléchargement des fichiers se déroule correctement.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
      
    </div>
    
      <script src="../assets/javascripts/vendor.3636a4ec.min.js"></script>
      <script src="../assets/javascripts/bundle.e9fe3281.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: ["instant"],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>